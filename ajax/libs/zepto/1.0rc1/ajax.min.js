!function(t){function e(e,n,a){var r=t.Event(n);return t(e).trigger(r,a),!r.defaultPrevented}function n(t,n,a,r){if(t.global)return e(n||h,a,r)}function a(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var a=e.context;return e.beforeSend.call(a,t,e)!==!1&&n(e,a,"ajaxBeforeSend",[t,e])!==!1&&void n(e,a,"ajaxSend",[t,e])}function i(t,e,a){var r=a.context,o="success";a.success.call(r,t,o,e),n(a,r,"ajaxSuccess",[e,a,t]),s(o,e,a)}function c(t,e,a,r){var o=r.context;r.error.call(o,a,e,t),n(r,o,"ajaxError",[a,r,t]),s(e,a,r)}function s(t,e,a){var o=a.context;a.complete.call(o,e,t),n(a,o,"ajaxComplete",[e,a]),r(a)}function u(){}function l(t){return t&&(t==T?"html":t==S?"json":y.test(t)?"script":g.test(t)&&"xml")||"text"}function p(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e){j(e.data)&&(e.data=t.param(e.data)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=p(e.url,e.data))}function f(e,n,a,r){var o=t.isArray(n);t.each(n,function(n,i){r&&(n=a?r:r+"["+(o?"":n)+"]"),!r&&o?e.add(i.name,i.value):(a?t.isArray(i):j(i))?f(e,i,a,n):e.add(n,i)})}var x,m,v=0,j=t.isObject,h=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,y=/^(?:text|application)\/javascript/i,g=/^(?:text|application)\/xml/i,S="application/json",T="text/html",b=/^\s*$/;t.active=0,t.ajaxJSONP=function(e){var n,a="jsonp"+ ++v,r=h.createElement("script"),o=function(){t(r).remove(),a in window&&(window[a]=u),s("abort",c,e)},c={abort:o};return e.error&&(r.onerror=function(){c.abort(),e.error()}),window[a]=function(o){clearTimeout(n),t(r).remove(),delete window[a],i(o,c,e)},d(e),r.src=e.url.replace(/=\?/,"="+a),t("head").append(r),e.timeout>0&&(n=setTimeout(function(){c.abort(),s("timeout",c,e)},e.timeout)),c},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:S,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0},t.ajax=function(e){var n=t.extend({},e||{});for(x in t.ajaxSettings)void 0===n[x]&&(n[x]=t.ajaxSettings[x]);a(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host);var r=n.dataType,s=/=\?/.test(n.url);if("jsonp"==r||s)return s||(n.url=p(n.url,"callback=?")),t.ajaxJSONP(n);n.url||(n.url=window.location.toString()),d(n);var f,v=n.accepts[r],j={},h=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=t.ajaxSettings.xhr();n.crossDomain||(j["X-Requested-With"]="XMLHttpRequest"),v&&(j.Accept=v,v.indexOf(",")>-1&&(v=v.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(v)),(n.contentType||n.data&&"GET"!=n.type.toUpperCase())&&(j["Content-Type"]=n.contentType||"application/x-www-form-urlencoded"),n.headers=t.extend(j,n.headers||{}),w.onreadystatechange=function(){if(4==w.readyState){clearTimeout(f);var t,e=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==h){r=r||l(w.getResponseHeader("content-type")),t=w.responseText;try{"script"==r?(0,eval)(t):"xml"==r?t=w.responseXML:"json"==r&&(t=b.test(t)?null:JSON.parse(t))}catch(t){e=t}e?c(e,"parsererror",w,n):i(t,w,n)}else c(null,"error",w,n)}};var y=!("async"in n)||n.async;w.open(n.type,n.url,y);for(m in n.headers)w.setRequestHeader(m,n.headers[m]);return o(w,n)===!1?(w.abort(),!1):(n.timeout>0&&(f=setTimeout(function(){w.onreadystatechange=u,w.abort(),c(null,"timeout",w,n)},n.timeout)),w.send(n.data?n.data:null),w)},t.get=function(e,n){return t.ajax({url:e,success:n})},t.post=function(e,n,a,r){return t.isFunction(n)&&(r=r||a,a=n,n=null),t.ajax({type:"POST",url:e,data:n,success:a,dataType:r})},t.getJSON=function(e,n){return t.ajax({url:e,success:n,dataType:"json"})},t.fn.load=function(e,n){if(!this.length)return this;var a,r=this,o=e.split(/\s/);return o.length>1&&(e=o[0],a=o[1]),t.get(e,function(e){r.html(a?t(h.createElement("div")).html(e.replace(w,"")).find(a).html():e),n&&n.call(r)}),this};var E=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(E(t)+"="+E(e))},f(n,t,e),n.join("&").replace("%20","+")}}(Zepto);