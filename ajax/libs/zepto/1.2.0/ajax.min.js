!function(t){function e(e,a,r){var n=t.Event(a);return t(e).trigger(n,r),!n.isDefaultPrevented()}function a(t,a,r,n){if(t.global)return e(a||j,r,n)}function r(e){e.global&&0===t.active++&&a(e,null,"ajaxStart")}function n(e){e.global&&!--t.active&&a(e,null,"ajaxStop")}function o(t,e){var r=e.context;return e.beforeSend.call(r,t,e)!==!1&&a(e,r,"ajaxBeforeSend",[t,e])!==!1&&void a(e,r,"ajaxSend",[t,e])}function i(t,e,r,n){var o=r.context,i="success";r.success.call(o,t,i,e),n&&n.resolveWith(o,[t,i,e]),a(r,o,"ajaxSuccess",[e,r,t]),c(i,e,r)}function s(t,e,r,n,o){var i=n.context;n.error.call(i,r,e,t),o&&o.rejectWith(i,[r,e,t]),a(n,i,"ajaxError",[r,n,t||e]),c(e,r,n)}function c(t,e,r){var o=r.context;r.complete.call(o,e,t),a(r,o,"ajaxComplete",[e,r]),n(r)}function l(t,e,a){if(a.dataFilter==u)return t;var r=a.context;return a.dataFilter.call(r,t,e)}function u(){}function p(t){return t&&(t=t.split(";",2)[0]),t&&(t==S?"html":t==b?"json":g.test(t)?"script":T.test(t)&&"xml")||"text"}function d(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=d(e.url,e.data),e.data=void 0)}function x(e,a,r,n){return t.isFunction(a)&&(n=r,r=a,a=void 0),t.isFunction(r)||(n=r,r=void 0),{url:e,data:a,success:r,dataType:n}}function m(e,a,r,n){var o,i=t.isArray(a),s=t.isPlainObject(a);t.each(a,function(a,c){o=t.type(c),n&&(a=r?n:n+"["+(s||"object"==o||"array"==o?a:"")+"]"),!n&&i?e.add(c.name,c.value):"array"==o||!r&&"object"==o?m(e,c,r,a):e.add(a,c)})}var h,v,y=+new Date,j=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,g=/^(?:text|application)\/javascript/i,T=/^(?:text|application)\/xml/i,b="application/json",S="text/html",D=/^\s*$/,F=j.createElement("a");F.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,a){if(!("type"in e))return t.ajax(e);var r,n,c=e.jsonpCallback,l=(t.isFunction(c)?c():c)||"Zepto"+y++,u=j.createElement("script"),p=window[l],d=function(e){t(u).triggerHandler("error",e||"abort")},f={abort:d};return a&&a.promise(f),t(u).on("load error",function(o,c){clearTimeout(n),t(u).off().remove(),"error"!=o.type&&r?i(r[0],f,e,a):s(null,c||"error",f,e,a),window[l]=p,r&&t.isFunction(p)&&p(r[0]),p=r=void 0}),o(f,e)===!1?(d("abort"),f):(window[l]=function(){r=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),j.head.appendChild(u),e.timeout>0&&(n=setTimeout(function(){d("timeout")},e.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:b,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:u},t.ajax=function(e){var a,n,c=t.extend({},e||{}),x=t.Deferred&&t.Deferred();for(h in t.ajaxSettings)void 0===c[h]&&(c[h]=t.ajaxSettings[h]);r(c),c.crossDomain||(a=j.createElement("a"),a.href=c.url,a.href=a.href,c.crossDomain=F.protocol+"//"+F.host!=a.protocol+"//"+a.host),c.url||(c.url=window.location.toString()),(n=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,n)),f(c);var m=c.dataType,y=/\?.+=\?/.test(c.url);if(y&&(m="jsonp"),c.cache!==!1&&(e&&e.cache===!0||"script"!=m&&"jsonp"!=m)||(c.url=d(c.url,"_="+Date.now())),"jsonp"==m)return y||(c.url=d(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,x);var w,g=c.accepts[m],T={},b=function(t,e){T[t.toLowerCase()]=[t,e]},S=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,E=c.xhr(),C=E.setRequestHeader;if(x&&x.promise(E),c.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",g||"*/*"),(g=c.mimeType||g)&&(g.indexOf(",")>-1&&(g=g.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(g)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&b("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(v in c.headers)b(v,c.headers[v]);if(E.setRequestHeader=b,E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=u,clearTimeout(w);var e,a=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==S){if(m=m||p(c.mimeType||E.getResponseHeader("content-type")),"arraybuffer"==E.responseType||"blob"==E.responseType)e=E.response;else{e=E.responseText;try{e=l(e,m,c),"script"==m?(0,eval)(e):"xml"==m?e=E.responseXML:"json"==m&&(e=D.test(e)?null:t.parseJSON(e))}catch(t){a=t}if(a)return s(a,"parsererror",E,c,x)}i(e,E,c,x)}else s(E.statusText||null,E.status?"error":"abort",E,c,x)}},o(E,c)===!1)return E.abort(),s(null,"abort",E,c,x),E;var O=!("async"in c)||c.async;if(E.open(c.type,c.url,O,c.username,c.password),c.xhrFields)for(v in c.xhrFields)E[v]=c.xhrFields[v];for(v in T)C.apply(E,T[v]);return c.timeout>0&&(w=setTimeout(function(){E.onreadystatechange=u,E.abort(),s(null,"timeout",E,c,x)},c.timeout)),E.send(c.data?c.data:null),E},t.get=function(){return t.ajax(x.apply(null,arguments))},t.post=function(){var e=x.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=x.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,a,r){if(!this.length)return this;var n,o=this,i=e.split(/\s/),s=x(e,a,r),c=s.success;return i.length>1&&(s.url=i[0],n=i[1]),s.success=function(e){o.html(n?t("<div>").html(e.replace(w,"")).find(n):e),c&&c.apply(o,arguments)},t.ajax(s),this};var E=encodeURIComponent;t.param=function(e,a){var r=[];return r.add=function(e,a){t.isFunction(a)&&(a=a()),null==a&&(a=""),this.push(E(e)+"="+E(a))},m(r,e,a),r.join("&").replace(/%20/g,"+")}}(Zepto);